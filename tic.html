<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <h1 id="text">this is a game</h1>
    <h1 id="text2">this is a game</h1>
    <button id="textbutton">button</button>
    <script src="/socket.io/socket.io.js"></script>

    <script>
        const socket = io();

        const text = document.getElementById("text")
        const text2 = document.getElementById("text2")
        const textbutton = document.getElementById("textbutton")
        const press =textbutton.addEventListener("click",Press)

        let clientTurn =0
        socket.on("turn",serverTurn => {
            clientTurn =serverTurn
        })
        function Press(){
            textbutton.disabled = true
            socket.emit("buttonpress","pressed")
            clientTurn++
        }
         socket.on('buttonstate', (serverTurn) => {
            text.innerHTML = "server"+serverTurn
            if(serverTurn > clientTurn){
                textbutton.disabled=false
                clientTurn =serverTurn
            }
            text2.innerHTML = "client"+clientTurn
       });

    </script>
</body>
</html>